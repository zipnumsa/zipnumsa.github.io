!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("lightbox",[],e):"object"==typeof exports?exports.lightbox=e():t.lightbox=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(1),r=(n=o)&&n.__esModule?n:{default:n};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new r.default(t)},t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(2),l=(n=s)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.body=document.body,this.options=this.mergeOptions(e),this.selector=this.options.selector,this.extensions=this.options.extensions,this.info=this.options.info,this.thumbnails=[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(document.querySelectorAll(this.selector))),this.activedElement=null,this.defaultSrc="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",this.maxDimensions=this.getMaxDimensions(),this.escKeyCode=27,this.clickHandler=this.clickHandler.bind(this),this.keyHandler=this.keyHandler.bind(this),this.thumbnailClickHandler=this.thumbnailClickHandler.bind(this),this.resiezHandler=(0,l.default)(this.resiezHandler.bind(this),150),this.init(),this.bind()}return r(t,[{key:"mergeOptions",value:function(t){return o({},{selector:"[data-lightbox]",extensions:/\.(gif|jpg|jpeg|tiff|png|bmp|svg)$/i,info:"Otworzono powiększenie zdjęcia."},t)}},{key:"getMaxDimensions",value:function(){return{maxWidth:window.innerWidth-50,maxHeight:window.innerHeight-150}}},{key:"createLightbox",value:function(){var t=document.createElement("div");return t.classList.add("lightbox"),t.classList.add("lightbox--hidden"),t.setAttribute("role","dialog"),t.setAttribute("tabindex",-1),t.setAttribute("aria-describedby","lb-info"),t.innerHTML='\n            <div class="lightbox-container">\n                <img src="'+this.defaultSrc+'" alt="" class="lightbox-img" id="lb-img">\n                <p class="lightbox-info visuallyhidden" id="lb-info">'+this.info+' Naciśnij <kbd>ESC</kbd>, aby zamknąć okno.</p>\n                <button class="lightbox-close">\n                    <span class="visuallyhidden">Zamknij okno</span>\n                </button>\n            </div>',t}},{key:"getElements",value:function(){var t=document.querySelector(".lightbox"),e=t.querySelector(".lightbox-container"),i=t.querySelector(".lightbox-img");return{lightbox:t,lightboxContainer:e,lightboxImage:i}}},{key:"fetchImage",value:function(t){return new Promise(function(e,i){var n=new Image;n.addEventListener("load",e),n.addEventListener("error",i),n.src=t})}},{key:"setMaxDimensions",value:function(t){var e=t.maxWidth,i=t.maxHeight;this.lightboxImage.style.maxWidth=e+"px",this.lightboxImage.style.maxHeight=i+"px"}},{key:"show",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.lightbox.classList.remove("lightbox--hidden"),this.lightbox.classList.add("lightbox--loading"),this.setMaxDimensions(this.maxDimensions),this.fetchImage(t).then(function(){e.lightbox.classList.remove("lightbox--loading"),e.lightboxImage.src=t,e.lightboxImage.alt=i,e.lightbox.focus()}).catch(function(t){throw e.lightbox.classList.add("lightbox--hidden"),e.lightbox.classList.remove("lightbox--loading"),new Error(t)})}},{key:"hide",value:function(){this.lightbox.classList.add("lightbox--hidden"),this.lightboxImage.src=this.defaultSrc,this.lightboxImage.alt="",this.activedElement.focus()}},{key:"IsVisible",value:function(){return!this.lightbox.classList.contains("lightbox--hidden")}},{key:"clickHandler",value:function(t){if(t.target.classList.contains("lightbox-img")||!this.IsVisible())return!1;t.preventDefault(),this.hide()}},{key:"keyHandler",value:function(t){if(t.keyCode!==this.escKeyCode||!this.IsVisible())return!1;t.preventDefault(),this.hide()}},{key:"resiezHandler",value:function(t){this.maxDimensions=this.getMaxDimensions(),this.setMaxDimensions(this.maxDimensions)}},{key:"init",value:function(){var t=this.createLightbox();document.body.appendChild(t),this.lightboxElements=this.getElements(),this.lightbox=this.lightboxElements.lightbox,this.lightboxContainer=this.lightboxElements.lightboxContainer,this.lightboxImage=this.lightboxElements.lightboxImage}},{key:"thumbnailClickHandler",value:function(t){var e=t.currentTarget,i=e.href;if(!i||!this.extensions.test(i))return!1;t.preventDefault(),t.stopPropagation(),this.activedElement=e,this.show(i,e.dataset.alt)}},{key:"bind",value:function(){var t=this;this.thumbnails.length>0&&this.thumbnails.forEach(function(e){e.classList.add("lb-initialized"),e.addEventListener("click",t.thumbnailClickHandler)}),document.addEventListener("click",this.clickHandler),document.addEventListener("keydown",this.keyHandler),window.addEventListener("resize",this.resiezHandler)}},{key:"destroy",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!==this.lightbox&&e&&this.lightbox.parentNode.removeChild(this.lightbox),this.thumbnails.length>0&&this.thumbnails.forEach(function(e){e.classList.remove("lb-initialized"),e.removeEventListener("click",t.thumbnailClickHandler)}),document.removeEventListener("click",this.clickHandler),document.removeEventListener("keydown",this.keyHandler),window.removeEventListener("resize",this.resiezHandler)}}]),t}();e.default=a,t.exports=e.default},function(t,e,i){"use strict";(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="Expected a function",o=NaN,r="[object Symbol]",s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d="object"==(void 0===e?"undefined":i(e))&&e&&e.Object===Object&&e,h="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),b=Object.prototype.toString,m=Math.max,g=Math.min,y=function(){return f.Date.now()};function v(t){var e=void 0===t?"undefined":i(t);return!!t&&("object"==e||"function"==e)}function x(t){return"symbol"==(void 0===t?"undefined":i(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":i(t))}(t)&&b.call(t)==r}function p(t){if("number"==typeof t)return t;if(x(t))return o;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=a.test(t);return i||u.test(t)?c(t.slice(2),i?2:8):l.test(t)?o:+t}t.exports=function(t,e,i){var o,r,s,l,a,u,c=0,d=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError(n);function b(e){var i=o,n=r;return o=r=void 0,c=e,l=t.apply(n,i)}function x(t){var i=t-u;return void 0===u||i>=e||i<0||h&&t-c>=s}function k(){var t=y();if(x(t))return w(t);a=setTimeout(k,function(t){var i=e-(t-u);return h?g(i,s-(t-c)):i}(t))}function w(t){return a=void 0,f&&o?b(t):(o=r=void 0,l)}function j(){var t=y(),i=x(t);if(o=arguments,r=this,u=t,i){if(void 0===a)return function(t){return c=t,a=setTimeout(k,e),d?b(t):l}(u);if(h)return a=setTimeout(k,e),b(u)}return void 0===a&&(a=setTimeout(k,e)),l}return e=p(e)||0,v(i)&&(d=!!i.leading,s=(h="maxWait"in i)?m(p(i.maxWait)||0,e):s,f="trailing"in i?!!i.trailing:f),j.cancel=function(){void 0!==a&&clearTimeout(a),c=0,o=u=r=a=void 0},j.flush=function(){return void 0===a?l:w(y())},j}}).call(this,i(3))},function(t,e,i){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":o(window))&&(n=window)}t.exports=n}])});
//# sourceMappingURL=lightbox.min.js.map